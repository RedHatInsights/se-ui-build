(self.webpackChunksmartevents_ui=self.webpackChunksmartevents_ui||[]).push([[1926],{14259:e=>{e.exports=function(e,t,n){var s=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++s<r;)o[s]=e[s+t];return o}},57406:(e,t,n)=>{var s=n(71811),r=n(10928),o=n(40292),a=n(40327);e.exports=function(e,t){return t=s(t,e),null==(e=o(e,t))||delete e[a(r(t))]}},60696:(e,t,n)=>{var s=n(68630);e.exports=function(e){return s(e)?void 0:e}},40292:(e,t,n)=>{var s=n(97786),r=n(14259);e.exports=function(e,t){return t.length<2?e:s(e,r(t,0,-1))}},66678:(e,t,n)=>{var s=n(85990);e.exports=function(e){return s(e,4)}},66604:(e,t,n)=>{var s=n(89465),r=n(47816),o=n(67206);e.exports=function(e,t){var n={};return t=o(t,3),r(e,(function(e,r,o){s(n,r,t(e,r,o))})),n}},57557:(e,t,n)=>{var s=n(29932),r=n(85990),o=n(57406),a=n(71811),i=n(98363),l=n(60696),u=n(99021),d=n(46904),c=u((function(e,t){var n={};if(null==e)return n;var u=!1;t=s(t,(function(t){return t=a(t,e),u||(u=t.length>1),t})),i(e,d(e),n),u&&(n=r(n,7,l));for(var c=t.length;c--;)o(n,t[c]);return n}));e.exports=c},31921:(e,t,n)=>{var s=n(10611);e.exports=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:s(e,t,n,r)}},28693:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Auto:()=>B,AutoForm:()=>q,BaseForm:()=>N,Bridge:()=>z,Quick:()=>k,QuickForm:()=>_,Validated:()=>w,ValidatedForm:()=>Q,ValidatedQuickForm:()=>R,changedKeys:()=>j,connectField:()=>Y,context:()=>F,createAutoField:()=>Z,filterDOMProps:()=>ne,joinName:()=>y,randomIds:()=>P,useField:()=>X,useForm:()=>J});var s=n(66678),r=n.n(s),o=n(18446),a=n.n(o),i=n(57557),l=n.n(i),u=n(31921),d=n.n(u),c=n(27361),h=n.n(c),m=n(75418),g=n.n(m);const p=/[.[\]]/,v=/"/g;function b(e){return""===e||p.test(e)?`["${e.replace(v,'\\"')}"]`:e}function f(e,t){const n=b(e);return n===e?t?`.${e}`:e:n}const C=/^\["(.*)"]$/,S=/\\"/g;function x(e){const t=C.exec(e);return t?t[1].replace(S,'"'):e}const O=/^([^.[\]]*(?:\.[^.[\]]+)*)(?:\.?(\["(?:(?:[^"]|\\")*?[^\\])?"])\.?(.*))?$/;const y=Object.assign((function(...e){const t=null===e[0],n=[];for(let t=0;t!==e.length;++t){const s=e[t];if(s||0===s)if("string"==typeof s){const r=O.exec(s);if(r){const[,s,o,a]=r;s&&(s.includes(".")?n.push(...s.split(".")):n.push(s)),o&&(n.push(x(o)),a&&(e[t--]=a))}else n.push(s)}else if(Array.isArray(s)){if(s.length){const n=Math.min(t+1,s.length);t-=n,e.splice(t+1,n,...s)}}else n.push(""+s)}return t?n.map(b):n.map(f).join("")}),{escape:b,unescape:x});function M(e){return!(!e||e!==Object(e)||e instanceof Date)}function j(e,t,n){if(!M(t)||n&&typeof t!=typeof n)return a()(t,n)?[]:[e];const s=[e];if(M(n)){for(const r in t)r in n&&a()(t[r],n[r])||s.push(y(e,r));for(const r in n)r in t||s.push(y(e,r));1===s.length&&s.pop()}else for(const n in t)s.push(y(e,n));return s}const F=(0,m.createContext)(null);function E(e){let t=0;return()=>`${e}-${("000"+(t++).toString(36)).slice(-4)}`}const V=E("uniforms");function P(e=V()){return E(e)}class N extends m.Component{constructor(e){super(e),this.state={changed:!1,changedMap:Object.create(null),resetCount:0,submitted:!1,submitting:!1},this.mounted=!1,this.randomId=P(this.props.id),this.onReset=this.reset=this.onReset.bind(this),this.onChange=this.change=this.onChange.bind(this),this.onSubmit=this.submit=this.onSubmit.bind(this);const t=this.getModel.bind(this);this.getModel=(e,n=t(e))=>void 0!==e&&this.props.modelTransform?this.props.modelTransform(e,n):n}componentDidMount(){this.mounted=!0}componentDidUpdate(e,t,n){}componentWillUnmount(){this.mounted=!1,this.delayId&&clearTimeout(this.delayId)}getContext(){return{changed:this.state.changed,changedMap:this.state.changedMap,error:this.getContextError(),formRef:this,model:this.getContextModel(),name:this.getContextName(),onChange:this.getContextOnChange(),onSubmit:this.getContextOnSubmit(),randomId:this.randomId,schema:this.getContextSchema(),state:this.getContextState(),submitted:this.state.submitted,submitting:this.state.submitting,validating:!1}}getContextName(){return[]}getContextError(){return this.props.error}getContextModel(){return this.getModel("form")}getContextState(){return{disabled:!!this.props.disabled,label:!!this.props.label,placeholder:!!this.props.placeholder,readOnly:!!this.props.readOnly,showInlineError:!!this.props.showInlineError}}getContextSchema(){return this.props.schema}getContextOnChange(){return this.onChange}getContextOnSubmit(){return this.onSubmit}getModel(e,t=this.props.model){return t}getNativeFormProps(){const e=l()(this.props,["autosave","autosaveDelay","disabled","error","label","model","modelTransform","onChange","onSubmit","placeholder","readOnly","schema","showInlineError"]);return Object.assign(Object.assign({},e),{onSubmit:this.onSubmit,key:`reset-${this.state.resetCount}`})}onChange(e,t){if(this.mounted){const n=j(e,t,h()(this.getModel(),e));0!==n.length&&this.setState((e=>e.changed&&n.every((t=>!!h()(e.changedMap,t)))?null:{changed:!0,changedMap:n.reduce(((e,t)=>d()(e,t,{},r())),r()(e.changedMap))}))}this.props.onChange&&this.props.onChange(e,t),this.mounted&&this.props.autosave&&(this.delayId&&(this.delayId=clearTimeout(this.delayId)),this.delayId=setTimeout((()=>{this.setState((()=>null),(()=>{this.onSubmit()}))}),this.props.autosaveDelay))}__reset(e){return{changed:!1,changedMap:Object.create(null),resetCount:e.resetCount+1,submitted:!1,submitting:!1}}onReset(){this.setState(this.__reset)}onSubmit(e){e&&(e.preventDefault(),e.stopPropagation()),this.setState((e=>e.submitted?null:{submitted:!0}));const t=this.props.onSubmit(this.getModel("submit"));return t instanceof Promise?(this.setState({submitting:!0}),t.finally((()=>{this.setState({submitting:!1})}))):Promise.resolve()}render(){return g().createElement(F.Provider,{value:this.getContext()},g().createElement("form",Object.assign({},this.getNativeFormProps())))}}N.displayName="Form",N.defaultProps={autosave:!1,autosaveDelay:0,error:null,label:!0,model:Object.create(null),noValidate:!0,onSubmit(){}};var I=n(70655);function k(e){class t extends e{getNativeFormProps(){const e=super.getNativeFormProps(),{autoField:t=this.getAutoField(),errorsField:n=this.getErrorsField(),submitField:s=this.getSubmitField()}=e,r=(0,I.__rest)(e,["autoField","errorsField","submitField"]);return r.children||(r.children=this.getContextSchema().getSubfields().map((e=>g().createElement(t,{key:e,name:e}))).concat([g().createElement(n,{key:"$ErrorsField"}),g().createElement(s,{key:"$SubmitField"})])),r}getAutoField(){return()=>null}getErrorsField(){return()=>null}getSubmitField(){return()=>null}}return t.Quick=k,t.displayName=`Quick${e.displayName}`,t}const _=k(N);var D=n(50361),A=n.n(D),$=n(50308),T=n.n($);function w(e){class t extends e{constructor(e){super(e),this.state=Object.assign(Object.assign({},this.state),{error:null,validate:!1,validating:!1,validator:this.getContextSchema().getValidator(e.validator)}),this.onValidate=this.validate=this.onValidate.bind(this),this.onValidateModel=this.validateModel=this.onValidateModel.bind(this)}getContextError(){var e;return null!==(e=super.getContextError())&&void 0!==e?e:this.state.error}getContext(){return Object.assign(Object.assign({},super.getContext()),{validating:this.state.validating})}getNativeFormProps(){const e=super.getNativeFormProps();return l()(e,["onValidate","validate","validator"])}componentDidUpdate(e,t,n){super.componentDidUpdate(e,t,n);const{model:s,schema:r,validate:o,validator:i}=this.props;r!==e.schema||i!==e.validator?this.setState({validator:r.getValidator(i)},(()=>{U(o,this.state.validate)&&this.onValidate()})):!a()(s,e.model)&&U(o,this.state.validate)&&this.onValidateModel(s)}onChange(e,t){U(this.props.validate,this.state.validate)&&this.onValidate(e,t),super.onChange(e,t)}__reset(e){return Object.assign(Object.assign({},super.__reset(e)),{error:null,validate:!1,validating:!1})}onSubmit(e){e&&(e.preventDefault(),e.stopPropagation()),this.setState({submitted:!0,validate:!0});const t=this.onValidate().then((e=>null!==e?Promise.reject(e):super.onSubmit().catch((e=>{throw this.setState({error:e}),e}))));return t.catch(T()),t}onValidate(e,t){let n=this.getContextModel();return n&&e&&(n=d()(r()(n),e,A()(t),r())),this.onValidateModel(n)}onValidateModel(e){const t=this.getModel("validate",e),n=function(e){function t(t,n){return t instanceof Promise?(e(),t.then(n)):n(t)}return t}((()=>{this.setState({validating:!0})}));return n(this.state.validator(t),((e=null)=>n(this.props.onValidate(t,e),((e=null)=>{var t;return e=this.props.error===e?null:e,this.setState((t=>t.error!==e||t.validating?{error:e,validating:!1}:null)),Promise.resolve(null!==(t=this.props.error)&&void 0!==t?t:e)}))))}}return t.Validated=w,t.displayName=`Validated${e.displayName}`,t.defaultProps=Object.assign(Object.assign({},e.defaultProps),{onValidate:(e,t)=>t,validate:"onChangeAfterSubmit"}),t}function U(e,t){return"onChange"===e||"onChangeAfterSubmit"===e&&t}const Q=w(N),R=w(k(N));function B(e){class t extends e{constructor(e){super(e),this.state=Object.assign(Object.assign({},this.state),{model:e.model})}componentDidUpdate(e,t,n){const{model:s}=this.props;a()(s,e.model)||this.setState({model:s}),super.componentDidUpdate(e,t,n)}getNativeFormProps(){const e=super.getNativeFormProps();return l()(e,["onChangeModel"])}getModel(e){return this.state.model}onChange(e,t){super.onChange(e,t),this.setState((n=>({model:d()(r()(n.model),e,t,r())})),(()=>{this.props.onChangeModel&&this.props.onChangeModel(this.state.model)}))}__reset(e){return Object.assign(Object.assign({},super.__reset(e)),{model:this.props.model})}}return t.Auto=B,t.displayName=`Auto${e.displayName}`,t}const q=B(R);var K=n(41143),W=n.n(K);class z{constructor(...e){W()(this.constructor!==z,"Bridge cannot be instantiated (args=%o).",{args:e})}getError(e,t){return W()(!1,"%s have not implemented `getError` method (args=%o).",this.constructor.name,{name:e,error:t})}getErrorMessage(e,t){return W()(!1,"%s have not implemented `getErrorMessage` method (args=%o).",this.constructor.name,{name:e,error:t})}getErrorMessages(e){return W()(!1,"%s have not implemented `getErrorMessages` method (args=%o).",this.constructor.name,{error:e})}getField(e){return W()(!1,"%s have not implemented `getField` method (args=%o).",this.constructor.name,{name:e})}getInitialValue(e,t){return W()(!1,"%s have not implemented `getInitialValue` method (args=%o).",this.constructor.name,{name:e,props:t})}getProps(e,t){return W()(!1,"%s have not implemented `getProps` method (args=%o).",this.constructor.name,{name:e,props:t})}getSubfields(e){return W()(!1,"%s have not implemented `getSubfields` method (args=%o).",this.constructor.name,{name:e})}getType(e){return W()(!1,"%s have not implemented `getType` method (args=%o).",this.constructor.name,{name:e})}getValidator(e){return W()(!1,"%s have not implemented `getValidator` method (args=%o).",this.constructor.name,{options:e})}}var G=n(66604),H=n.n(G);function J(){const e=(0,m.useContext)(F);return W()(null!==e,"useForm must be used within a form."),e}function L(e,t,n,s){const r=!0===e||void 0===e,o=!0===t||void 0===t,a=o?s:t;return[""===e||!1===e||null===e||r&&(o||!n)?"":r?a:e,a]}function X(e,t,n){var s;const r=J(),o=y((null==n?void 0:n.absoluteName)?"":r.name,e),a=r.schema.getField(o),i=!1!==(null==n?void 0:n.initialValue),l=i?(0,m.useRef)(!1):{current:!1},u=H()(r.state,((e,n)=>{const s=t[n];return null!=s?!!s:e})),d=!!h()(r.changedMap,o),c=r.schema.getError(o,r.error),g=r.schema.getErrorMessage(o,r.error),p=r.schema.getType(o),v=r.schema.getSubfields(o),b=r.schema.getProps(o,Object.assign(Object.assign({},u),t)),[f,C]=L(t.label,b.label,u.label,""),[S]=L(t.placeholder,b.placeholder,u.placeholder,f||C),x=(0,m.useMemo)((()=>r.randomId()),[]),O=(0,m.useCallback)(((e,t=o)=>{l.current=!0,r.onChange(t,e)}),[r.onChange,o]),M=h()(r.model,o);let j,F=null!==(s=t.value)&&void 0!==s?s:M;i&&(l.current||(void 0===F?(F=r.schema.getInitialValue(o,t),j=F):void 0!==t.value&&t.value!==M&&(j=t.value)),(0,m.useEffect)((()=>{var e;(null!==(e=t.required)&&void 0!==e?e:b.required)&&void 0!==j&&O(j)}),[]));return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({id:x},u),{changed:d,error:c,errorMessage:g,field:a,fieldType:p,fields:v,onChange:O,value:F}),b),t),{label:f,name:o,placeholder:S}),r]}function Y(e,t){function n(n){const[s,r]=X(n.name,n,t),o=""!==n.name,a=Object.keys(r.state).some((e=>{const t=n[e];return null!=t}));if(!a&&!o)return g().createElement(e,Object.assign({},n,s));const i=Object.assign({},r);return a&&(i.state=H()(i.state,((e,t)=>{const s=n[t];return null!=s?!!s:e}))),o&&(i.name=i.name.concat(n.name)),g().createElement(F.Provider,{value:i},g().createElement(e,Object.assign({},n,s)))}return n.displayName=`${e.displayName||e.name}Field`,Object.assign(n,{Component:e,options:t})}function Z(e){const t=(0,m.createContext)(e);return Object.assign((function(e){var n,s;const[r,o]=X(e.name,e),a=(0,m.useContext)(t),i=null!==(n=r.component)&&void 0!==n?n:a(r,o);return W()(i,"AutoField received no component for: %s",r.name),"options"in i&&"leaf"===(null===(s=i.options)||void 0===s?void 0:s.kind)?(0,m.createElement)(i.Component,r):(0,m.createElement)(i,e)}),{componentDetectorContext:t,defaultComponentDetector:e})}const ee=[],te=new Set,ne=Object.assign((function(e){const t=Object.assign({},e);for(const n in e)te.has(n)&&delete t[n];return t}),{register(...e){e.forEach((e=>{te.has(e)||(ee.push(e),te.add(e))})),ee.sort()},registered:ee});ne.register("changed","error","errorMessage","field","fieldType","fields","initialCount","name","onChange","transform","value","disabled","label","placeholder","showInlineError","component","allowedValues")}}]);
//# sourceMappingURL=1926.342f6af9.js.map